<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Epic Terms for The Odyssey — Flashcards</title>
<style>
  :root{
    --bg:#0b0c10;/* deep charcoal */
    --panel:#111317;/* card bg */
    --card:#151922;/* card face */
    --ink:#e9eef6;/* main text */
    --muted:#aab7c6;
    --accent:#62d0ff;/* cyan */
    --accent-2:#9cff81;/* green */
    --danger:#ff6b6b;
    --shadow:0 12px 28px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.25);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";color:var(--ink);background:linear-gradient(180deg,#0b0c10,#0b0c10 40%, #0e1218);}
  .wrap{max-width:1100px;margin:0 auto;padding:20px 20px 40px}
  header{display:flex;gap:14px;align-items:center;justify-content:space-between;margin-bottom:16px}
  h1{margin:0;font-weight:800;font-size:clamp(18px,3vw,28px);letter-spacing:.3px}
  .toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
  .btn{appearance:none;border:1px solid #263042;background:#121722;color:var(--ink);padding:10px 14px;border-radius:14px;cursor:pointer;font-weight:600;transition:.15s transform,.15s opacity,.15s background;box-shadow:0 1px 0 rgba(255,255,255,.04) inset}
  .btn:hover{transform:translateY(-1px);background:#121b2a}
  .btn:active{transform:translateY(0)}
  .btn.primary{border-color:#2c3646;background:#162033}
  .btn.toggle[aria-pressed="true"]{outline:2px solid var(--accent);background:#0f1d2a}
  .btn.small{padding:8px 10px;border-radius:12px;font-size:13px}
  .select{appearance:none;border:1px solid #263042;background:#121722;color:var(--ink);padding:10px 12px;border-radius:12px;font-weight:600}

  .stage{display:grid;grid-template-columns:1fr;gap:14px}

  .card{user-select:none;position:relative;min-height:320px;border-radius:22px;background:radial-gradient(1200px 500px at 80% -10%,rgba(98,208,255,.12),transparent 50%), linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.0));border:1px solid #263042;box-shadow:var(--shadow);display:flex;align-items:center;justify-content:center;padding:30px;perspective:1200px}
  .card-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .5s}
  .card.flipped .card-inner{transform:rotateY(180deg)}
  .face{position:absolute;inset:0;border-radius:22px;background:var(--card);display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:center;padding:32px 28px;backface-visibility:hidden}
  .face.back{transform:rotateY(180deg)}
  .term{font-size:clamp(22px,4vw,36px);font-weight:900;text-align:center;line-height:1.15}
  .definition{max-width:820px;font-size:clamp(15px,2.2vw,19px);line-height:1.6;color:var(--ink)}
  .hint{color:var(--muted);font-size:13px;margin-top:6px}

  .controls{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .progress{display:flex;align-items:center;gap:10px;color:var(--muted);font-weight:700}
  .meter{flex:1;height:10px;border-radius:999px;background:#1b2030;border:1px solid #263042;overflow:hidden}
  .meter>span{display:block;height:100%;background:linear-gradient(90deg,var(--accent), var(--accent-2));width:0}

  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px}
  .chip{background:#131823;border:1px solid #223047;color:var(--ink);padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:700;text-align:center}
  .chip.active{outline:2px solid var(--accent)}

  .footer{margin-top:12px;color:var(--muted);font-size:12px;display:flex;flex-wrap:wrap;gap:10px;align-items:center}
  kbd{background:#0f1622;border:1px solid #253249;border-radius:6px;padding:2px 6px;font-weight:800}

  @media (max-width:600px){
    .card{min-height:280px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Epic Terms for <em>The Odyssey</em> — Flashcards</h1>
      <div class="toolbar">
        <button class="btn small toggle" id="reverseBtn" aria-pressed="false" title="Show definition first (F)">Definition First</button>
        <button class="btn small" id="shuffleBtn" title="Shuffle deck (R)">Shuffle</button>
        <select class="select" id="jumpSelect" title="Jump to term"></select>
      </div>
    </header>

    <section class="stage">
      <div class="card" id="card" role="button" aria-label="Flashcard (click or press Space to flip)">
        <div class="card-inner">
          <div class="face front">
            <div class="term" id="frontTerm"></div>
            <div class="hint">Click / press <kbd>Space</kbd> to flip</div>
          </div>
          <div class="face back">
            <div class="definition" id="backDef"></div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="toolbar">
          <button class="btn primary" id="prevBtn" title="Previous (←)">⟵ Prev</button>
          <button class="btn primary" id="flipBtn" title="Flip (Space)">Flip</button>
          <button class="btn primary" id="nextBtn" title="Next (→)">Next ⟶</button>
        </div>
        <div class="progress">
          <div id="counter">1 / 1</div>
          <div class="meter" aria-hidden="true"><span id="meterBar"></span></div>
        </div>
      </div>

      <details>
        <summary class="btn small" style="display:inline-block">Quick Picker</summary>
        <div class="grid" id="chipGrid" style="margin-top:10px"></div>
      </details>

      <div class="footer">
        <div>Shortcuts: <kbd>←</kbd>/<kbd>→</kbd> prev/next, <kbd>Space</kbd> flip, <kbd>F</kbd> definition first, <kbd>R</kbd> shuffle</div>
      </div>
    </section>
  </div>

<script>
const CARDS = [
  ["Epic Hero","A brave and noble character in an epic poem, admired for great achievements or affected by grand events, often going on a challenging journey."],
  ["Homeric Problem","Whether 'Homer' was one poet, many poets, or a symbolic name—questioning authorship and existence."],
  ["In Media Res (in the middle of things)","A narrative that begins in the middle of the story and the action."],
  ["Muse","(In Greek and Roman mythology) one of the nine goddesses who preside over the arts and sciences; invoked for inspiration."],
  ["Narrative Poem","A long poem that tells a story."],
  ["Ballad","A poem or song narrating a story in short stanzas."],
  ["Bard","A masterful storyteller of Ancient Greece who would sing or recite long narrative poems about gods, goddesses, and heroes of days gone by."],
  ["Oral Tradition","A community's cultural and historical traditions passed down by word of mouth or example from one generation to another without written instruction."],
  ["Universal Theme","An idea that transcends time, place, and generation; it could apply to anyone, anywhere, at any time."],
  ["Allusion","A casual reference to a famous historic or literary figure, event, or work. It relies on the reader recognizing the reference and its meaning."],
  ["Archetype","A recurring symbol, pattern, or character type recognizable across literature."],
  ["Quest","An epic journey upon which the hero must embark."],
  ["Alliteration","The repetition of an initial consonant sound."],
  ["Figurative Language","Language using figures of speech (metaphor, simile, hyperbole, etc.) rather than literal meaning."],
  ["Onomatopoeia","Words that imitate the sounds associated with the objects or actions they refer to (e.g., 'buzz', 'sizzle')."],
  ["Setting","The place or location of the action; provides historical and cultural context for characters."],
  ["Protagonist","The main character the story revolves around."],
  ["Antagonist","A character or force that opposes the protagonist."],
  ["Tone","The author's implied attitude toward the subject; the atmosphere the author intends to set."],
  ["Mood","The feeling or atmosphere perceived by the reader."],
  ["Theme","The dominant idea the writer conveys to readers, directly or indirectly, in a work of literature."],
  ["Personification","Giving human qualities or abilities to an inanimate object or abstraction."],
  ["Metaphor","A comparison between two unlike things that share something in common (without using 'like' or 'as')."],
  ["Simile","A comparison of two unlike things using 'like' or 'as' to enhance meaning."],
  ["Epic Simile","An extended, elaborate simile used in epic poetry, especially Homer."],
  ["Symbol","An object, person, or idea that stands for or suggests something else, either explicitly or subtly."],
  ["Imagery","Vivid descriptive language appealing to one or more senses (sight, sound, touch, smell, taste)."],
  ["Diction","Word choice that conveys and emphasizes meaning or theme through distinctions in sound, look, rhythm, syllable, and definition."],
  ["Epithet","A brief descriptive phrase emphasizing an important characteristic of a person or thing (e.g., 'Divine Calypso', 'Versatile Odysseus', 'rosy-fingered dawn')."],
  ["Patronymics","A name derived from a male ancestor's name; calling the son by the father's name (e.g., 'Laertes' son')."],
  ["Hubris","Excessive pride."],
];

// --- State ---
let index = 0;
let reversed = JSON.parse(localStorage.getItem('epic.reverse') || 'false');
let deck = [...CARDS];

const els = {
  card: document.getElementById('card'),
  inner: document.querySelector('.card-inner'),
  frontTerm: document.getElementById('frontTerm'),
  backDef: document.getElementById('backDef'),
  counter: document.getElementById('counter'),
  meter: document.getElementById('meterBar'),
  prevBtn: document.getElementById('prevBtn'),
  nextBtn: document.getElementById('nextBtn'),
  flipBtn: document.getElementById('flipBtn'),
  reverseBtn: document.getElementById('reverseBtn'),
  shuffleBtn: document.getElementById('shuffleBtn'),
  jumpSelect: document.getElementById('jumpSelect'),
  chipGrid: document.getElementById('chipGrid'),
};

function populateJump(){
  els.jumpSelect.innerHTML = '';
  deck.forEach(([term], i)=>{
    const opt = document.createElement('option');
    opt.value = i; opt.textContent = `${i+1}. ${term}`;
    els.jumpSelect.appendChild(opt);
  });
}

function populateChips(){
  els.chipGrid.innerHTML = '';
  deck.forEach(([term], i)=>{
    const b = document.createElement('button');
    b.className = 'chip';
    b.textContent = term;
    b.addEventListener('click',()=>{ go(i,true); });
    els.chipGrid.appendChild(b);
  });
}

function updateChipsActive(){
  [...els.chipGrid.children].forEach((chip, i)=>{
    chip.classList.toggle('active', i===index);
  });
}

function render(){
  const [term, def] = deck[index];
  const front = reversed ? def : term;
  const back  = reversed ? term : def;
  els.frontTerm.textContent = front;
  els.backDef.textContent = back;
  els.counter.textContent = `${index+1} / ${deck.length}`;
  els.meter.style.width = `${((index+1)/deck.length)*100}%`;
  els.jumpSelect.value = String(index);
  updateChipsActive();
}

function flip(){
  document.querySelector('.card').classList.toggle('flipped');
}

function unflip(){
  document.querySelector('.card').classList.remove('flipped');
}

function go(i,instant=false){
  index = Math.max(0, Math.min(deck.length-1, i));
  unflip();
  if(!instant){
    // subtle movement feedback
    document.querySelector('.card').animate([
      {transform:'translateY(0)'},{transform:'translateY(-3px)'},{transform:'translateY(0)'}
    ], {duration:180});
  }
  render();
}

function next(){ if(index<deck.length-1){ go(index+1); } }
function prev(){ if(index>0){ go(index-1); } }

function shuffle(){
  for(let i=deck.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [deck[i],deck[j]]=[deck[j],deck[i]];
  }
  populateJump();
  populateChips();
  go(0,true);
}

// --- wiring ---
els.card.addEventListener('click', flip);
els.flipBtn.addEventListener('click', flip);
els.nextBtn.addEventListener('click', ()=>{ next(); });
els.prevBtn.addEventListener('click', ()=>{ prev(); });

els.reverseBtn.addEventListener('click', ()=>{
  reversed = !reversed; localStorage.setItem('epic.reverse', JSON.stringify(reversed));
  els.reverseBtn.setAttribute('aria-pressed', String(reversed));
  render();
});

els.shuffleBtn.addEventListener('click', ()=>{ shuffle(); });
els.jumpSelect.addEventListener('change', e=>{ go(parseInt(e.target.value,10), true); });

window.addEventListener('keydown', (e)=>{
  if(['INPUT','TEXTAREA','SELECT'].includes(e.target.tagName)) return;
  if(e.code==='Space'){ e.preventDefault(); flip(); }
  if(e.key==='ArrowRight'){ next(); }
  if(e.key==='ArrowLeft'){ prev(); }
  if(e.key.toLowerCase()==='f'){ reversed=!reversed; localStorage.setItem('epic.reverse', JSON.stringify(reversed)); els.reverseBtn.setAttribute('aria-pressed', String(reversed)); render(); }
  if(e.key.toLowerCase()==='r'){ shuffle(); }
});

// init
(function init(){
  els.reverseBtn.setAttribute('aria-pressed', String(reversed));
  populateJump();
  populateChips();
  render();
})();
</script>
</body>
</html>
